## 生命周期 （二）

### 介绍

* 生命周期的标注不会改变引用的生命周期长度
* 当指定了泛型生命周期参数，函数可以接收带有任何生命周期的引用
* 生命周期的标注：描述了多个引用的生命周期间的关系，但不影响生命周期

### 语法：

* 生命周期参数名：
    * 以 ' 开头
    * 通常全小写，非常短
    * 一般使用'a

* 生命周期标注的位置
    * 在引用的&符号后
    * 使用空格将标注和引用类型分开

### 例子

* &i32 一个引用
* &'a i32 带有显示生命周期的引用
* &'a mut i32 带有显示生命周期的可变引用

**单个生命周期标注本身没有意义**

### 函数签名中的生命周期标注

* 泛型生命周期参数声明在：函数名和参数列表的<>里

如；
```
fn main() {
    let s1 = String::from("hello");
    let result;
    {
        let s2 = String::from("world");
        result = longest(s1.as_str(), s2.as_str());
    }
    println!("the longget is : {}", result)
}

fn longest<'a>(x: &'a str, y: &'a str) -> &'a str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}
// 此时编译器报错
result 是 longest 返回的引用
为了保证result正常，必须s1和s2都存在，而此时s2的生命周期已结束
```
* 'a 的生命周期是 x和y 中较小的那一个。